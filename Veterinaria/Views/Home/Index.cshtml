@using System.Security.Claims

@{
    ViewData["Title"] = "Home Page";
}

@if (!User.Identity.IsAuthenticated)
{
    <div class="text-center">
        <a asp-controller="Login" asp-action="Login" class="btn btn-google btn-lg w-100 py-3 mb-3">
            <i class="fab fa-google me-2"></i>
            Iniciar Sesión con Google
        </a>
    </div>
}
else
{
    <div class="text-center">
        @{
            var picture = User.FindFirst("picture")?.Value;
            var name = User.FindFirst(ClaimTypes.Name)?.Value;
            var email = User.FindFirst(ClaimTypes.Email)?.Value;
        }

        <div class="mb-3">
            @if (!string.IsNullOrEmpty(picture))
            {
                <img src="@picture" alt="Profile" class="rounded-circle" width="80" height="80">
            }
        </div>

        <h6 class="fw-bold">Bienvenido, @name!</h6>
        <p class="text-muted small mb-3">@email</p>

        <a asp-controller="Login" asp-action="Logout" class="btn btn-outline-danger btn-lg py-2 mt-3">
            <i class="fas fa-sign-out-alt me-2"></i>
            Logout
        </a>

    </div>
}